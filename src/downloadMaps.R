##Extract Maps
dir.create("Maps")

##TelcelGSM
dir.create("Maps/TelcelGSM")
DownloadImages <- function(URLStem,Folder){
  Extractor <- function(FILA){
    IMAGES <- paste(URLStem,17:26,FILA,".png",sep="")
    for(i in 1:length(IMAGES)){
      download.file(url = IMAGES[i],destfile = paste(Folder,"Zoom_",length(list.files(path = Folder)),".png",sep=""))
    }
  }
  sapply(59:50,FUN = Extractor)
}
DownloadImages("http://gsma.streetmap.co.uk/custom/barts/gsma/gmap.srf?o=1&i=402/603/Zoom2/Zoom2_402_603", "Maps/TelcelGSM/")

##Telcel3G
dir.create("Maps/Telcel3G")
DownloadImages("http://gsma.streetmap.co.uk/custom/barts/gsma/gmap.srf?o=1&i=402/951/Zoom2/Zoom2_402_951", "Maps/Telcel3G/")

####Iusacel GSM
dir.create("Maps/IusacelGSM")
DownloadImages("http://gsma.streetmap.co.uk/custom/barts/gsma/gmap.srf?o=1&i=644/603/Zoom2/Zoom2_644_603", "Maps/IusacelGSM/")

####Iusacel GSM
dir.create("Maps/Iusacel3G")
DownloadImages("http://gsma.streetmap.co.uk/custom/barts/gsma/gmap.srf?o=1&i=644/951/Zoom2/Zoom2_644_951", "Maps/Iusacel3G/")

####Movistar
dir.create("Maps/Movistar")
DownloadImages("http://gsma.streetmap.co.uk/custom/barts/gsma/gmap.srf?o=1&i=611/603/Zoom2/Zoom2_611_603", "Maps/Movistar/")


remove(DownloadImages)


###Convert to map (You must have ImageMagick installed in your computer (I use debian version, not tested in other OS's))
dir.create("Maps/CoverageRasters")
system("montage Maps/TelcelGSM/Zoom_0.png Maps/TelcelGSM/Zoom_1.png Maps/TelcelGSM/Zoom_2.png Maps/TelcelGSM/Zoom_3.png Maps/TelcelGSM/Zoom_4.png Maps/TelcelGSM/Zoom_5.png Maps/TelcelGSM/Zoom_6.png Maps/TelcelGSM/Zoom_7.png Maps/TelcelGSM/Zoom_8.png Maps/TelcelGSM/Zoom_9.png Maps/TelcelGSM/Zoom_10.png Maps/TelcelGSM/Zoom_11.png  Maps/TelcelGSM/Zoom_12.png Maps/TelcelGSM/Zoom_13.png Maps/TelcelGSM/Zoom_14.png Maps/TelcelGSM/Zoom_15.png Maps/TelcelGSM/Zoom_16.png Maps/TelcelGSM/Zoom_17.png Maps/TelcelGSM/Zoom_18.png Maps/TelcelGSM/Zoom_19.png  Maps/TelcelGSM/Zoom_20.png Maps/TelcelGSM/Zoom_21.png Maps/TelcelGSM/Zoom_22.png Maps/TelcelGSM/Zoom_23.png Maps/TelcelGSM/Zoom_24.png Maps/TelcelGSM/Zoom_25.png Maps/TelcelGSM/Zoom_26.png Maps/TelcelGSM/Zoom_27.png Maps/TelcelGSM/Zoom_28.png Maps/TelcelGSM/Zoom_29.png Maps/TelcelGSM/Zoom_30.png Maps/TelcelGSM/Zoom_31.png Maps/TelcelGSM/Zoom_32.png Maps/TelcelGSM/Zoom_33.png Maps/TelcelGSM/Zoom_34.png Maps/TelcelGSM/Zoom_35.png Maps/TelcelGSM/Zoom_36.png Maps/TelcelGSM/Zoom_37.png Maps/TelcelGSM/Zoom_38.png Maps/TelcelGSM/Zoom_39.png Maps/TelcelGSM/Zoom_40.png Maps/TelcelGSM/Zoom_41.png Maps/TelcelGSM/Zoom_42.png Maps/TelcelGSM/Zoom_43.png Maps/TelcelGSM/Zoom_44.png Maps/TelcelGSM/Zoom_45.png Maps/TelcelGSM/Zoom_46.png Maps/TelcelGSM/Zoom_47.png Maps/TelcelGSM/Zoom_48.png Maps/TelcelGSM/Zoom_49.png Maps/TelcelGSM/Zoom_50.png Maps/TelcelGSM/Zoom_51.png Maps/TelcelGSM/Zoom_52.png Maps/TelcelGSM/Zoom_53.png Maps/TelcelGSM/Zoom_54.png Maps/TelcelGSM/Zoom_55.png Maps/TelcelGSM/Zoom_56.png Maps/TelcelGSM/Zoom_57.png Maps/TelcelGSM/Zoom_58.png Maps/TelcelGSM/Zoom_59.png  -tile 10x6 -geometry 500x500 -background none Maps/CoverageRasters/TelcelGSM.png")
system("montage Maps/Telcel3G/Zoom_0.png Maps/Telcel3G/Zoom_1.png Maps/Telcel3G/Zoom_2.png Maps/Telcel3G/Zoom_3.png Maps/Telcel3G/Zoom_4.png Maps/Telcel3G/Zoom_5.png Maps/Telcel3G/Zoom_6.png Maps/Telcel3G/Zoom_7.png Maps/Telcel3G/Zoom_8.png Maps/Telcel3G/Zoom_9.png Maps/Telcel3G/Zoom_10.png Maps/Telcel3G/Zoom_11.png  Maps/Telcel3G/Zoom_12.png Maps/Telcel3G/Zoom_13.png Maps/Telcel3G/Zoom_14.png Maps/Telcel3G/Zoom_15.png Maps/Telcel3G/Zoom_16.png Maps/Telcel3G/Zoom_17.png Maps/Telcel3G/Zoom_18.png Maps/Telcel3G/Zoom_19.png  Maps/Telcel3G/Zoom_20.png Maps/Telcel3G/Zoom_21.png Maps/Telcel3G/Zoom_22.png Maps/Telcel3G/Zoom_23.png Maps/Telcel3G/Zoom_24.png Maps/Telcel3G/Zoom_25.png Maps/Telcel3G/Zoom_26.png Maps/Telcel3G/Zoom_27.png Maps/Telcel3G/Zoom_28.png Maps/Telcel3G/Zoom_29.png Maps/Telcel3G/Zoom_30.png Maps/Telcel3G/Zoom_31.png Maps/Telcel3G/Zoom_32.png Maps/Telcel3G/Zoom_33.png Maps/Telcel3G/Zoom_34.png Maps/Telcel3G/Zoom_35.png Maps/Telcel3G/Zoom_36.png Maps/Telcel3G/Zoom_37.png Maps/Telcel3G/Zoom_38.png Maps/Telcel3G/Zoom_39.png Maps/Telcel3G/Zoom_40.png Maps/Telcel3G/Zoom_41.png Maps/Telcel3G/Zoom_42.png Maps/Telcel3G/Zoom_43.png Maps/Telcel3G/Zoom_44.png Maps/Telcel3G/Zoom_45.png Maps/Telcel3G/Zoom_46.png Maps/Telcel3G/Zoom_47.png Maps/Telcel3G/Zoom_48.png Maps/Telcel3G/Zoom_49.png Maps/Telcel3G/Zoom_50.png Maps/Telcel3G/Zoom_51.png Maps/Telcel3G/Zoom_52.png Maps/Telcel3G/Zoom_53.png Maps/Telcel3G/Zoom_54.png Maps/Telcel3G/Zoom_55.png Maps/Telcel3G/Zoom_56.png Maps/Telcel3G/Zoom_57.png Maps/Telcel3G/Zoom_58.png Maps/Telcel3G/Zoom_59.png  -tile 10x6 -geometry 500x500 -background none Maps/CoverageRasters/Telcel3G.png")
system("montage Maps/IusacelGSM/Zoom_0.png Maps/IusacelGSM/Zoom_1.png Maps/IusacelGSM/Zoom_2.png Maps/IusacelGSM/Zoom_3.png Maps/IusacelGSM/Zoom_4.png Maps/IusacelGSM/Zoom_5.png Maps/IusacelGSM/Zoom_6.png Maps/IusacelGSM/Zoom_7.png Maps/IusacelGSM/Zoom_8.png Maps/IusacelGSM/Zoom_9.png Maps/IusacelGSM/Zoom_10.png Maps/IusacelGSM/Zoom_11.png  Maps/IusacelGSM/Zoom_12.png Maps/IusacelGSM/Zoom_13.png Maps/IusacelGSM/Zoom_14.png Maps/IusacelGSM/Zoom_15.png Maps/IusacelGSM/Zoom_16.png Maps/IusacelGSM/Zoom_17.png Maps/IusacelGSM/Zoom_18.png Maps/IusacelGSM/Zoom_19.png  Maps/IusacelGSM/Zoom_20.png Maps/IusacelGSM/Zoom_21.png Maps/IusacelGSM/Zoom_22.png Maps/IusacelGSM/Zoom_23.png Maps/IusacelGSM/Zoom_24.png Maps/IusacelGSM/Zoom_25.png Maps/IusacelGSM/Zoom_26.png Maps/IusacelGSM/Zoom_27.png Maps/IusacelGSM/Zoom_28.png Maps/IusacelGSM/Zoom_29.png Maps/IusacelGSM/Zoom_30.png Maps/IusacelGSM/Zoom_31.png Maps/IusacelGSM/Zoom_32.png Maps/IusacelGSM/Zoom_33.png Maps/IusacelGSM/Zoom_34.png Maps/IusacelGSM/Zoom_35.png Maps/IusacelGSM/Zoom_36.png Maps/IusacelGSM/Zoom_37.png Maps/IusacelGSM/Zoom_38.png Maps/IusacelGSM/Zoom_39.png Maps/IusacelGSM/Zoom_40.png Maps/IusacelGSM/Zoom_41.png Maps/IusacelGSM/Zoom_42.png Maps/IusacelGSM/Zoom_43.png Maps/IusacelGSM/Zoom_44.png Maps/IusacelGSM/Zoom_45.png Maps/IusacelGSM/Zoom_46.png Maps/IusacelGSM/Zoom_47.png Maps/IusacelGSM/Zoom_48.png Maps/IusacelGSM/Zoom_49.png Maps/IusacelGSM/Zoom_50.png Maps/IusacelGSM/Zoom_51.png Maps/IusacelGSM/Zoom_52.png Maps/IusacelGSM/Zoom_53.png Maps/IusacelGSM/Zoom_54.png Maps/IusacelGSM/Zoom_55.png Maps/IusacelGSM/Zoom_56.png Maps/IusacelGSM/Zoom_57.png Maps/IusacelGSM/Zoom_58.png Maps/IusacelGSM/Zoom_59.png  -tile 10x6 -geometry 500x500 -background none Maps/CoverageRasters/IusacelGSM.png")
system("montage Maps/Iusacel3G/Zoom_0.png Maps/Iusacel3G/Zoom_1.png Maps/Iusacel3G/Zoom_2.png Maps/Iusacel3G/Zoom_3.png Maps/Iusacel3G/Zoom_4.png Maps/Iusacel3G/Zoom_5.png Maps/Iusacel3G/Zoom_6.png Maps/Iusacel3G/Zoom_7.png Maps/Iusacel3G/Zoom_8.png Maps/Iusacel3G/Zoom_9.png Maps/Iusacel3G/Zoom_10.png Maps/Iusacel3G/Zoom_11.png  Maps/Iusacel3G/Zoom_12.png Maps/Iusacel3G/Zoom_13.png Maps/Iusacel3G/Zoom_14.png Maps/Iusacel3G/Zoom_15.png Maps/Iusacel3G/Zoom_16.png Maps/Iusacel3G/Zoom_17.png Maps/Iusacel3G/Zoom_18.png Maps/Iusacel3G/Zoom_19.png  Maps/Iusacel3G/Zoom_20.png Maps/Iusacel3G/Zoom_21.png Maps/Iusacel3G/Zoom_22.png Maps/Iusacel3G/Zoom_23.png Maps/Iusacel3G/Zoom_24.png Maps/Iusacel3G/Zoom_25.png Maps/Iusacel3G/Zoom_26.png Maps/Iusacel3G/Zoom_27.png Maps/Iusacel3G/Zoom_28.png Maps/Iusacel3G/Zoom_29.png Maps/Iusacel3G/Zoom_30.png Maps/Iusacel3G/Zoom_31.png Maps/Iusacel3G/Zoom_32.png Maps/Iusacel3G/Zoom_33.png Maps/Iusacel3G/Zoom_34.png Maps/Iusacel3G/Zoom_35.png Maps/Iusacel3G/Zoom_36.png Maps/Iusacel3G/Zoom_37.png Maps/Iusacel3G/Zoom_38.png Maps/Iusacel3G/Zoom_39.png Maps/Iusacel3G/Zoom_40.png Maps/Iusacel3G/Zoom_41.png Maps/Iusacel3G/Zoom_42.png Maps/Iusacel3G/Zoom_43.png Maps/Iusacel3G/Zoom_44.png Maps/Iusacel3G/Zoom_45.png Maps/Iusacel3G/Zoom_46.png Maps/Iusacel3G/Zoom_47.png Maps/Iusacel3G/Zoom_48.png Maps/Iusacel3G/Zoom_49.png Maps/Iusacel3G/Zoom_50.png Maps/Iusacel3G/Zoom_51.png Maps/Iusacel3G/Zoom_52.png Maps/Iusacel3G/Zoom_53.png Maps/Iusacel3G/Zoom_54.png Maps/Iusacel3G/Zoom_55.png Maps/Iusacel3G/Zoom_56.png Maps/Iusacel3G/Zoom_57.png Maps/Iusacel3G/Zoom_58.png Maps/Iusacel3G/Zoom_59.png  -tile 10x6 -geometry 500x500 -background none Maps/CoverageRasters/Iusacel3G.png")
system("montage Maps/Movistar/Zoom_0.png Maps/Movistar/Zoom_1.png Maps/Movistar/Zoom_2.png Maps/Movistar/Zoom_3.png Maps/Movistar/Zoom_4.png Maps/Movistar/Zoom_5.png Maps/Movistar/Zoom_6.png Maps/Movistar/Zoom_7.png Maps/Movistar/Zoom_8.png Maps/Movistar/Zoom_9.png Maps/Movistar/Zoom_10.png Maps/Movistar/Zoom_11.png  Maps/Movistar/Zoom_12.png Maps/Movistar/Zoom_13.png Maps/Movistar/Zoom_14.png Maps/Movistar/Zoom_15.png Maps/Movistar/Zoom_16.png Maps/Movistar/Zoom_17.png Maps/Movistar/Zoom_18.png Maps/Movistar/Zoom_19.png  Maps/Movistar/Zoom_20.png Maps/Movistar/Zoom_21.png Maps/Movistar/Zoom_22.png Maps/Movistar/Zoom_23.png Maps/Movistar/Zoom_24.png Maps/Movistar/Zoom_25.png Maps/Movistar/Zoom_26.png Maps/Movistar/Zoom_27.png Maps/Movistar/Zoom_28.png Maps/Movistar/Zoom_29.png Maps/Movistar/Zoom_30.png Maps/Movistar/Zoom_31.png Maps/Movistar/Zoom_32.png Maps/Movistar/Zoom_33.png Maps/Movistar/Zoom_34.png Maps/Movistar/Zoom_35.png Maps/Movistar/Zoom_36.png Maps/Movistar/Zoom_37.png Maps/Movistar/Zoom_38.png Maps/Movistar/Zoom_39.png Maps/Movistar/Zoom_40.png Maps/Movistar/Zoom_41.png Maps/Movistar/Zoom_42.png Maps/Movistar/Zoom_43.png Maps/Movistar/Zoom_44.png Maps/Movistar/Zoom_45.png Maps/Movistar/Zoom_46.png Maps/Movistar/Zoom_47.png Maps/Movistar/Zoom_48.png Maps/Movistar/Zoom_49.png Maps/Movistar/Zoom_50.png Maps/Movistar/Zoom_51.png Maps/Movistar/Zoom_52.png Maps/Movistar/Zoom_53.png Maps/Movistar/Zoom_54.png Maps/Movistar/Zoom_55.png Maps/Movistar/Zoom_56.png Maps/Movistar/Zoom_57.png Maps/Movistar/Zoom_58.png Maps/Movistar/Zoom_59.png  -tile 10x6 -geometry 500x500 -background none Maps/CoverageRasters/Movistar.png")

##Georeference the rasters and convert to shapefile (You must have GDAL installed in your computer (I use debian version, not tested in other OS's))
##IusacelGSM
dir.create("Shapes")
system("gdal_translate -of GTiff -gcp 4263.97 1992.51 -88.0962 21.1821 -gcp 4115.98 2000.64 -89.1694 21.1225 -gcp 4278.84 2220.02 -87.9873 19.6191 -gcp 4070.38 2098.07 -89.4893 20.4485 -gcp 4228.28 2358.61 -88.3544 18.689 -gcp 3685.85 2877.03 -92.2728 15.1253 -gcp 3656.63 2891.77 -92.4789 15.0164 -gcp 3549.29 2794.84 -93.2582 15.6849 -gcp 3548.65 2711.89 -93.2596 16.25 -gcp 3420.1 2462.78 -94.1931 17.9595 -gcp 3488.06 2509.78 -93.7133 17.6349 -gcp 3310.47 2685.34 -94.9729 16.4363 -gcp 3111.28 2555.51 -96.4119 17.3198 -gcp 2900.41 2599.47 -97.9085 17.0267 -gcp 314.66 321.011 -116.527 31.8949 -gcp 567.391 240.79 -114.724 32.4058 -gcp 279.98 290.777 -116.782 32.0976 -gcp 264.482 236.789 -116.891 32.4373 -gcp 276.042 236.662 -116.809 32.4332 -gcp 299.035 318.026 -116.639 31.9216 -gcp 294.97 228.595 -116.669 32.4729 -gcp 357.66 236.725 -116.213 32.4325 -gcp 376.969 240.727 -116.078 32.4065 -gcp 345.846 240.854 -116.305 32.4079 -gcp 721.481 404.599 -113.631 31.3839 -gcp 1086.95 431.657 -110.984 31.2127 -gcp 1751.21 394.944 -106.189 31.4483 -gcp 2532.71 849.339 -100.571 28.5963 -gcp 2490.09 743.775 -100.886 29.2545 -gcp 2525.41 886.687 -100.625 28.3641 -gcp 2595.78 1071.9 -100.118 27.2066 -gcp 2418.06 1137.7 -101.404 26.8018 -gcp 1939.91 1089.43 -104.831 27.0991 -gcp 1826.22 1118.39 -105.645 26.9285 -gcp 2947.09 1317.2 -97.5759 25.6642 -gcp 1802.4 1714.94 -105.826 23.0341 -gcp 1814.09 1739.84 -105.756 22.8772 -gcp 2208.9 1767.02 -102.915 22.682 'Maps/CoverageRasters/IusacelGSM.png' 'Maps/CoverageRasters/IusacelGSMGR.png'")
system("gdalwarp -r near -order 3 -co COMPRESS=NONE  'Maps/CoverageRasters/IusacelGSMGR.png' 'Maps/CoverageRasters/IusacelGSMGR'")
file.remove("Maps/CoverageRasters/IusacelGSMGR.png")
system("gdal_polygonize.py Maps/CoverageRasters/IusacelGSMGR -f 'ESRI Shapefile' Shapes/IusacelGSM IusacelGSM")


##Iusacel3g
system("gdal_translate -of GTiff -gcp 4263.97 1992.51 -88.0962 21.1821 -gcp 4115.98 2000.64 -89.1694 21.1225 -gcp 4278.84 2220.02 -87.9873 19.6191 -gcp 4070.38 2098.07 -89.4893 20.4485 -gcp 4228.28 2358.61 -88.3544 18.689 -gcp 3685.85 2877.03 -92.2728 15.1253 -gcp 3656.63 2891.77 -92.4789 15.0164 -gcp 3549.29 2794.84 -93.2582 15.6849 -gcp 3548.65 2711.89 -93.2596 16.25 -gcp 3420.1 2462.78 -94.1931 17.9595 -gcp 3488.06 2509.78 -93.7133 17.6349 -gcp 3310.47 2685.34 -94.9729 16.4363 -gcp 3111.28 2555.51 -96.4119 17.3198 -gcp 2900.41 2599.47 -97.9085 17.0267 -gcp 314.66 321.011 -116.527 31.8949 -gcp 567.391 240.79 -114.724 32.4058 -gcp 279.98 290.777 -116.782 32.0976 -gcp 264.482 236.789 -116.891 32.4373 -gcp 276.042 236.662 -116.809 32.4332 -gcp 299.035 318.026 -116.639 31.9216 -gcp 294.97 228.595 -116.669 32.4729 -gcp 357.66 236.725 -116.213 32.4325 -gcp 376.969 240.727 -116.078 32.4065 -gcp 345.846 240.854 -116.305 32.4079 -gcp 721.481 404.599 -113.631 31.3839 -gcp 1086.95 431.657 -110.984 31.2127 -gcp 1751.21 394.944 -106.189 31.4483 -gcp 2532.71 849.339 -100.571 28.5963 -gcp 2490.09 743.775 -100.886 29.2545 -gcp 2525.41 886.687 -100.625 28.3641 -gcp 2595.78 1071.9 -100.118 27.2066 -gcp 2418.06 1137.7 -101.404 26.8018 -gcp 1939.91 1089.43 -104.831 27.0991 -gcp 1826.22 1118.39 -105.645 26.9285 -gcp 2947.09 1317.2 -97.5759 25.6642 -gcp 1802.4 1714.94 -105.826 23.0341 -gcp 1814.09 1739.84 -105.756 22.8772 -gcp 2208.9 1767.02 -102.915 22.682 'Maps/CoverageRasters/Iusacel3G.png' 'Maps/CoverageRasters/Iusacel3GGR.png'")
system("gdalwarp -r near -order 3 -co COMPRESS=NONE  'Maps/CoverageRasters/Iusacel3GGR.png' 'Maps/CoverageRasters/Iusacel3GGR'")
file.remove("Maps/CoverageRasters/Iusacel3GGR.png")
system("gdal_polygonize.py Maps/CoverageRasters/Iusacel3GGR -f 'ESRI Shapefile' Shapes/Iusacel3G Iusacel3G")

#Movistar
system("gdal_translate -of GTiff -gcp 4263.97 1992.51 -88.0962 21.1821 -gcp 4115.98 2000.64 -89.1694 21.1225 -gcp 4278.84 2220.02 -87.9873 19.6191 -gcp 4070.38 2098.07 -89.4893 20.4485 -gcp 4228.28 2358.61 -88.3544 18.689 -gcp 3685.85 2877.03 -92.2728 15.1253 -gcp 3656.63 2891.77 -92.4789 15.0164 -gcp 3549.29 2794.84 -93.2582 15.6849 -gcp 3548.65 2711.89 -93.2596 16.25 -gcp 3420.1 2462.78 -94.1931 17.9595 -gcp 3488.06 2509.78 -93.7133 17.6349 -gcp 3310.47 2685.34 -94.9729 16.4363 -gcp 3111.28 2555.51 -96.4119 17.3198 -gcp 2900.41 2599.47 -97.9085 17.0267 -gcp 314.66 321.011 -116.527 31.8949 -gcp 567.391 240.79 -114.724 32.4058 -gcp 279.98 290.777 -116.782 32.0976 -gcp 264.482 236.789 -116.891 32.4373 -gcp 276.042 236.662 -116.809 32.4332 -gcp 299.035 318.026 -116.639 31.9216 -gcp 294.97 228.595 -116.669 32.4729 -gcp 357.66 236.725 -116.213 32.4325 -gcp 376.969 240.727 -116.078 32.4065 -gcp 345.846 240.854 -116.305 32.4079 -gcp 721.481 404.599 -113.631 31.3839 -gcp 1086.95 431.657 -110.984 31.2127 -gcp 1751.21 394.944 -106.189 31.4483 -gcp 2532.71 849.339 -100.571 28.5963 -gcp 2490.09 743.775 -100.886 29.2545 -gcp 2525.41 886.687 -100.625 28.3641 -gcp 2595.78 1071.9 -100.118 27.2066 -gcp 2418.06 1137.7 -101.404 26.8018 -gcp 1939.91 1089.43 -104.831 27.0991 -gcp 1826.22 1118.39 -105.645 26.9285 -gcp 2947.09 1317.2 -97.5759 25.6642 -gcp 1802.4 1714.94 -105.826 23.0341 -gcp 1814.09 1739.84 -105.756 22.8772 -gcp 2208.9 1767.02 -102.915 22.682 'Maps/CoverageRasters/Movistar.png' 'Maps/CoverageRasters/MovistarGR.png'")
system("gdalwarp -r near -order 3 -co COMPRESS=NONE  'Maps/CoverageRasters/MovistarGR.png' 'Maps/CoverageRasters/MovistarGR'")
file.remove("Maps/CoverageRasters/MovistarGR.png")
system("gdal_polygonize.py Maps/CoverageRasters/MovistarGR -f 'ESRI Shapefile' Shapes/Movistar Movistar")

#Telcel3G
system("gdal_translate -of GTiff -gcp 315.168 286.204 -116.522 32.107 -gcp 319.487 361.153 -116.498 31.6426 -gcp 232.342 215.574 -117.121 32.5589 -gcp 369.728 446.71 -116.135 31.106 -gcp 662.157 949.346 -114.053 27.9848 -gcp 1263.91 1691.66 -109.704 23.2863 -gcp 1227.58 1740.38 -109.96 22.9825 -gcp 2008.32 680.164 -104.369 29.6877 -gcp 2067.96 938.866 -103.93 28.0542 -gcp 2474.72 715.796 -100.993 29.4637 -gcp 3011.43 1258.73 -97.1276 26.0303 -gcp 4353.4 2009.11 -87.4452 21.1327 -gcp 4453.51 1960.72 -86.7264 21.4485 -gcp 4291.67 1931.62 -87.9034 21.6581 -gcp 4248.35 2121.73 -88.2134 20.3485 -gcp 4324.82 2369.76 -87.6545 18.6266 -gcp 3697.15 2837.49 -92.1897 15.3637 -gcp 3705.54 2806.24 -92.1335 15.5746 -gcp 3252.03 2689.5 -95.4053 16.3972 'Maps/CoverageRasters/Telcel3G.png' 'Maps/CoverageRasters/Telcel3GGR.png'")
system("gdalwarp -r near -order 3 -co COMPRESS=NONE  'Maps/CoverageRasters/Telcel3GGR.png' 'Maps/CoverageRasters/Telcel3GGR'")
file.remove("Maps/CoverageRasters/Telcel3GGR.png")
system("gdal_polygonize.py Maps/CoverageRasters/Telcel3GGR -f 'ESRI Shapefile' Shapes/Telcel3G Telcel3G")


#TelcelGSM
system("gdal_translate -of GTiff -gcp 4263.97 1992.51 -88.0962 21.1821 -gcp 4115.98 2000.64 -89.1694 21.1225 -gcp 4278.84 2220.02 -87.9873 19.6191 -gcp 4070.38 2098.07 -89.4893 20.4485 -gcp 4228.28 2358.61 -88.3544 18.689 -gcp 3685.85 2877.03 -92.2728 15.1253 -gcp 3656.63 2891.77 -92.4789 15.0164 -gcp 3549.29 2794.84 -93.2582 15.6849 -gcp 3548.65 2711.89 -93.2596 16.25 -gcp 3420.1 2462.78 -94.1931 17.9595 -gcp 3488.06 2509.78 -93.7133 17.6349 -gcp 3310.47 2685.34 -94.9729 16.4363 -gcp 3111.28 2555.51 -96.4119 17.3198 -gcp 2900.41 2599.47 -97.9085 17.0267 -gcp 314.66 321.011 -116.527 31.8949 -gcp 567.391 240.79 -114.724 32.4058 -gcp 279.98 290.777 -116.782 32.0976 -gcp 264.482 236.789 -116.891 32.4373 -gcp 276.042 236.662 -116.809 32.4332 -gcp 299.035 318.026 -116.639 31.9216 -gcp 294.97 228.595 -116.669 32.4729 -gcp 357.66 236.725 -116.213 32.4325 -gcp 376.969 240.727 -116.078 32.4065 -gcp 345.846 240.854 -116.305 32.4079 -gcp 721.481 404.599 -113.631 31.3839 -gcp 1086.95 431.657 -110.984 31.2127 -gcp 1751.21 394.944 -106.189 31.4483 -gcp 2532.71 849.339 -100.571 28.5963 -gcp 2490.09 743.775 -100.886 29.2545 -gcp 2525.41 886.687 -100.625 28.3641 -gcp 2595.78 1071.9 -100.118 27.2066 -gcp 2418.06 1137.7 -101.404 26.8018 -gcp 1939.91 1089.43 -104.831 27.0991 -gcp 1826.22 1118.39 -105.645 26.9285 -gcp 2947.09 1317.2 -97.5759 25.6642 -gcp 1802.4 1714.94 -105.826 23.0341 -gcp 1814.09 1739.84 -105.756 22.8772 -gcp 2208.9 1767.02 -102.915 22.682 'Maps/CoverageRasters/TelcelGSM.png' 'Maps/CoverageRasters/TelcelGSMGR.png'")
system("gdalwarp -r near -order 3 -co COMPRESS=NONE  'Maps/CoverageRasters/TelcelGSMGR.png' 'Maps/CoverageRasters/TelcelGSMGR'")
file.remove("Maps/CoverageRasters/TelcelGSMGR.png")
system("gdal_polygonize.py Maps/CoverageRasters/TelcelGSMGR -f 'ESRI Shapefile' Shapes/TelcelGSM TelcelGSM")

##Add proj (WGS84)
sink("Shapes/Iusacel3G/Iusacel3G.prj")
cat("GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.017453292519943295]]")
sink()
sink("Shapes/IusacelGSM/IusacelGSM.prj")
cat("GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.017453292519943295]]")
sink()
sink("Shapes/Movistar/Movistar.prj")
cat("GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.017453292519943295]]")
sink()
sink("Shapes/Telcel3G/Telcel3G.prj")
cat("GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.017453292519943295]]")
sink()
sink("Shapes/TelcelGSM/TelcelGSM.prj")
cat("GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.017453292519943295]]")
sink()

#Remove Rasters
system("rm -rf Maps")
